<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inlet data</title>
    <style>
        .form-row:first-child .form-group:nth-child(3) {
            margin-left: 200px;
        }
        .form-row:nth-child(2) .form-group:nth-child(3) {
            margin-left: 200px;
        }
            .pagination .page-item:not(.disabled) .page-link:hover {
        background-color: #f8f9fa; /* Background color on hover */
        border-color: #dee2e6; /* Border color on hover */
    }

    .pagination .page-item.active  {
        background-color: #007bff; /* Background color for active link */
        border-color: #007bff; /* Border color for active link */
        color: #fff; /* Text color for active link */
    }
    .page-link{
        color: #0a53be;
    }

    </style>
</head>
<body>
    <h2 class="fw-bold">Inlet Data</h2>
    <br>

<form method="get" action="{% url 'myapp:common_section' data_section=data_section %}" novalidate>
    <div class="form-row">
        <div class="form-group col-md-2">
            {{ iteration_form.min_iteration.label_tag }}
            {{ iteration_form.min_iteration }}
        </div>
        <div class="form-group col-md-2">
            {{ iteration_form.max_iteration.label_tag }}
            {{ iteration_form.max_iteration }}
        </div>
        <div class="form-group col-md-2">
            {{ cpu_time_form.min_cputime.label_tag }}
            {{ cpu_time_form.min_cputime }}
        </div>
        <div class="form-group col-md-2">
            {{ cpu_time_form.max_cputime.label_tag }}
            {{ cpu_time_form.max_cputime }}
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-md-2">
            {{ travels_form.min_travels.label_tag }}
            {{ travels_form.min_travels }}
        </div>
        <div class="form-group col-md-2">
            {{ travels_form.max_travels.label_tag }}
            {{ travels_form.max_travels }}
        </div>
        <div class="form-group col-md-2">
            {{ value_form.min_value.label_tag }}
            {{ value_form.min_value }}
        </div>
        <div class="form-group col-md-2">
            {{ value_form.max_value.label_tag }}
            {{ value_form.max_value }}
        </div>
    </div>

    <button type="submit" class="btn btn-primary btn-sm">Apply Filters</button>
    <a class="btn btn-outline-primary btn-sm" href="{% url 'myapp:common_section' data_section='inlet' %}">Clear</a>

</form>


{% if data %}

<div class="export-dropdown">
    <button id="exportButton" type="button" class="btn btn-outline-success dropdown-toggle my-4 btn-sm" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Export <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" aria-labelledby="exportButton">
        <li><a class="mx-3" href="{% url 'myapp:csv_export' data_section=data_section %}?export_format=csv{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">CSV</a></li>
        <li><a class="mx-3" href="{% url 'myapp:excel_export' data_section=data_section %}?export_format=excel{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">Excel</a></li>
        <li><a class="mx-3" href="{% url 'myapp:json_export' data_section=data_section %}?export_format=json{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">JSON</a></li>
    </ul>
</div>

{% block content %}
    <!-- Content for the Inlet section -->
    <table class="table">
        <thead>
            <tr>
                <th>
                    {% if sort_order == "asc" %}
                        <a class="text-decoration-none" href="?sort_by=iteration&sort_order=desc{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">
                            Iterations ↑</a>
                    {% else %}
                        <a class="text-decoration-none" href="?sort_by=iteration&sort_order=asc{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">
                            Iterations ↓</a>
                    {% endif %}
                </th>
                <th>
                    {% if request.GET.sort_order == "asc" %}
                        <a href="?sort_by=cputime&sort_order=desc{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">
                            CPU Time ↑</a>
                    {% else %}
                        <a href="?sort_by=cputime&sort_order=asc{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">
                            CPU Time ↓</a>
                    {% endif %}
                </th>
                <th>
                    {% if request.GET.sort_order == "asc" %}
                        <a href="?sort_by=travels&sort_order=desc{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">
                            Travels ↑</a>
                    {% else %}
                        <a href="?sort_by=travels&sort_order=asc{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">
                            Travels ↓</a>
                    {% endif %}
                </th>
                <th>
                    {% if request.GET.sort_order == "asc" %}
                        <a href="?sort_by=value&sort_order=desc{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">
                            Value ↑</a>
                    {% else %}
                        <a href="?sort_by=value&sort_order=asc{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">
                            Value ↓</a>
                    {% endif %}
                </th>
            </tr>
        </thead>
        <tbody>
            {% for item in data %}
            <tr>
                <td>{{ item.iteration }}</td>
                <td>{{ item.cputime }}</td>
                <td>{{ item.travels }}</td>
                <td>{{ item.value }}</td>
                <!-- Display other fields specific to Inlet data as needed -->
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <nav aria-label="Page navigation" class="d-flex justify-content-center">
    <ul class="pagination nav nav-tabs">
        {% if data.has_previous %}
            <li class="page-item nav-item">
                <a class="page-link nav-link" href="?page=1{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}" aria-label="First">
                    <span aria-hidden="true">&laquo;&laquo;</span>
                </a>
            </li>
            <li class="page-item nav-item">
                <a class="page-link nav-link" href="?page={{ data.previous_page_number }}{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
        {% endif %}

        {% for page_num in data.paginator.page_range %}
            <li class="page-item nav-item {% if page_num == data.number %}active{% endif %}">
                <a class="page-link nav-link" href="?page={{ page_num }}{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}">{{ page_num }}</a>
            </li>
        {% endfor %}

        {% if data.has_next %}
            <li class="page-item nav-item">
                <a class="page-link nav-link" href="?page={{ data.next_page_number }}{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
            <li class="page-item nav-item">
                <a class="page-link nav-link" href="?page={{ data.paginator.num_pages }}{% if request.GET.min_iteration %}&min_iteration={{ request.GET.min_iteration }}{% endif %}{% if request.GET.max_iteration %}&max_iteration={{ request.GET.max_iteration }}{% endif %}{% if request.GET.min_cputime %}&min_cputime={{ request.GET.min_cputime }}{% endif %}{% if request.GET.max_cputime %}&max_cputime={{ request.GET.max_cputime }}{% endif %}{% if request.GET.min_travels %}&min_travels={{ request.GET.min_travels }}{% endif %}{% if request.GET.max_travels %}&max_travels={{ request.GET.max_travels }}{% endif %}{% if request.GET.min_value %}&min_value={{ request.GET.min_value }}{% endif %}{% if request.GET.max_value %}&max_value={{ request.GET.max_value }}{% endif %}" aria-label="Last">
                    <span aria-hidden="true">&raquo;&raquo;</span>
                </a>
            </li>
        {% endif %}
    </ul>
</nav>
{% endblock %}

{% endif %}

</body>
</html>